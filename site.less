/** Main body **/

body {
  font-family: "Clear Sans";
}

@font-face {
    font-family: "Clear Sans";
    src: url("font/ClearSans-Thin.woff") format('woff');
}

/** Animation settings **/

@fade_animation_time: 0.274s;
@slide_animation_time: 0.74s;
@grid_icon_size: 64px;
@grid_size: (@grid_icon_size + 10px);

.icons-layout-main() {
  left: 0px;
  top: 0px;
}

.icons-layout-sidebar() {
  left: -300px;
  top: -100px;
}

.container {
  bottom: 0;
  height: 220px;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: -200px;
  width: 500px;
}

.content {
  text-align: center;

  .title {
    color: #666;
    cursor: pointer;
    font-size: 24px;
    transition: margin-top @slide_animation_time ease-in-out;

    &:hover { color: #333; }
  }

  .icons {
    bottom: 0;
    left: 0;
    margin: auto;
    position: absolute;
    right: 0;
    top: 0;
    z-index: 2;

    width: (@grid_size * 3);
    height: (@grid_size * 2);

    transition: top @slide_animation_time ease-in-out, left @slide_animation_time ease-in-out;
    .icons-layout-main;

    .icon {
      cursor: pointer;
      display: inline-block;
      height: @grid_icon_size;
      position: absolute;
      transition: top @slide_animation_time ease-in-out, left @slide_animation_time ease-in-out;
      width: @grid_icon_size;
    }

  }

}

.about {
  z-index:1;

  hr {
    border: none;
    background: gradient(radial, 50% 50%, 0, 50% 50%, 100, from(#efefef), to(#fff));
    background: -webkit-gradient(radial, 50% 50%, 0, 50% 50%, 100, from(#efefef), to(#fff));
    height: 1px;
    width: 300px;
  }

  .about-main;
  text-align: left;

  .about-text {
    padding-left: 75px;
  }

  .photo {
    border: 1px solid #efefef;
    float: right;
    width: 140px;
  }
}

.about-main() {
  visibility: hidden;
  opacity: 0;
}
.about-sidebar() {
  visibility: visible;
  opacity: 1;
}

.content.collapsed .icons { .icons-layout-main; }
.content.collapsed .about {
  animation: textFadeOut @slide_animation_time ease-in-out;
  -webkit-animation: textFadeOut @slide_animation_time ease-in-out;
  .about-main;
}

.content.opened .icons { .icons-layout-sidebar; }
.content.opened .title { margin-top: -50px; }
.content.opened .about {
  animation: textFadeIn (@fade_animation_time + @slide_animation_time) ease-in-out;
  -webkit-animation: textFadeIn (@fade_animation_time + @slide_animation_time) ease-in-out;
  .about-sidebar;
}

@-webkit-keyframes textFadeIn {
  0% { .about-main; }
  40% { .about-main; }
  100% { .about-sidebar; }
}
@-webkit-keyframes textFadeOut {
  0% { .about-sidebar; }
  100% { .about-main; }
}
@keyframes textFadeIn {
  0% { .about-main; }
  40% { .about-main; }
  100% { .about-sidebar; }
}
@keyframes textFadeOut {
  0% { .about-sidebar; }
  100% { .about-main; }
}

/** Images for each icon **/
.icon-img(@name, @color, @icon_link) {
  .icon-@{name} {
    background-color: @color;
    background-image: data-uri(@icon_link);
    &:hover {
      box-shadow: 0 0 2px lighten(@color, 30%);
    }
  }
}
.icon-img(facebook, #3B5998, 'icon/facebook.png');
.icon-img(github, #202021, 'icon/github.png'); // #4183C4
.icon-img(gmail, #DD4B39, 'icon/gmail.png');
.icon-img(goodreads, #5A471B, 'icon/goodreads.png');
.icon-img(linkedin, #007FB1, 'icon/linkedin.png');
.icon-img(plus, #D14836, 'icon/plus.png');
.icon-img(rss, #007FB1, 'icon/rss.png');
.icon-img(tumblr, #2C4762, 'icon/tumblr.png');
.icon-img(twitter, #00ACED, 'icon/twitter.png');

/** Calculate locations for each icon **/
.icon-layout-loop(@counter) when (@counter > 0) {
  .icon-layout-loop((@counter - 1));

  /* collapsed: stationary/grid */
  .content:not(.opened) .icon:nth-child(@{counter}) {
    left: (mod((@counter), 3) * @grid_size);
    top: (floor((@counter - 1) / 3) * @grid_size);
  }

  /* Left: stacked */
  .content.opened .icon:nth-child(@{counter}) {
    left: 0;
    top: ((@counter - 1) * @grid_size);
  }
}
.icon-layout-loop(6);
